!function(o,s){s.prototype.buildAttributeFiltersModel=function(t,e,r,i){var a=new Object;return a.CategoryId=t,a.ManufacturerId=e,a.VendorId=r,a.AttributeFilterGroups=new Array,o(".attributeFilterPanel7Spikes .filtersGroupPanel").each(function(){var t=o(this),e=parseInt(t.attr("data-optionsGroupId"))||0,n=new Object;n.Id=e,null!=i&&i.is(t)&&(n.IsMain=!0,a.Priority=1),n.FilterItems=new Array,t.find("[data-option-ids]").each(function(){var t=o(this),e=t.attr("data-option-ids"),r=t.attr("data-valueId"),i=e.split(","),a=new Object;a.ValueId=r,a.ProductVariantAttributeIds=i,a.FilterItemState=s.getFilterItemStateBasedOnAttributes(t),n.FilterItems.push(a)}),a.AttributeFilterGroups.push(n)}),a},s.prototype.refreshAttributeFilters=function(r,t){var n="usedropdowns"===t;o(".attributeFilterPanel7Spikes .filtersGroupPanel").each(function(){var t=o(this),e=parseInt(t.attr("data-optionsGroupId"))||0,i=o.grep(r.AttributeFilterGroups,function(t){return t.Id===e});if(0!==i.length){var a=n;t.find("[data-option-ids]").each(function(){var t=o(this),e=parseInt(t.attr("data-valueId"))||0,r=o.grep(i[0].FilterItems,function(t){return t.ValueId===e});0!==r.length&&s.addStateClassAndAttributesToOption(t,r[0].FilterItemState,n)&&(a=!1)}),a&&t.find('[value="0"]').first().attr("selected","selected")}})},o(document).ready(function(){o(".attributeFilterPanel7Spikes").find('.attribute-options-select, .checkbox-list input[type="checkbox"]').on("change",function(){var t=o(this),e=t.closest("div[data-optionsgroupid]");(new s).requestProductsForSelectedFilters(e,t)})})}(jQuery,FiltersManager);